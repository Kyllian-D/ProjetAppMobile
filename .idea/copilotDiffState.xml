<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/plasmatrack/ManualStorage.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/plasmatrack/ManualStorage.kt" />
              <option name="originalContent" value="package com.example.plasmatrack&#10;&#10;import android.content.Context&#10;import androidx.core.content.edit&#10;import org.json.JSONArray&#10;import org.json.JSONObject&#10;&#10;// Data model reused for manuals (PDFs only)&#10;data class ManualItem(val id: Long = System.currentTimeMillis(), val title: String, val fileUrl: String, val description: String = &quot;&quot;)&#10;data class ManualSection(val name: String, val items: MutableList&lt;ManualItem&gt; = mutableListOf())&#10;&#10;object ManualStorage {&#10;    private const val PREF = &quot;manual_guides_prefs&quot;&#10;    private const val KEY = &quot;manual_guides_v1&quot;&#10;&#10;    fun loadAll(context: Context): MutableList&lt;ManualSection&gt; {&#10;        val sp = context.getSharedPreferences(PREF, Context.MODE_PRIVATE)&#10;        val raw = sp.getString(KEY, null) ?: return mutableListOf()&#10;        return try {&#10;            val arr = JSONArray(raw)&#10;            val list = mutableListOf&lt;ManualSection&gt;()&#10;            for (i in 0 until arr.length()) {&#10;                val obj = arr.optJSONObject(i) ?: continue&#10;                val name = obj.optString(&quot;name&quot;, &quot;&quot;)&#10;                // skip any section that mentions plasma to keep Aqua storage clean&#10;                if (name.contains(&quot;plasma&quot;, ignoreCase = true)) continue&#10;                val itemsArr = obj.optJSONArray(&quot;items&quot;) ?: JSONArray()&#10;                val items = mutableListOf&lt;ManualItem&gt;()&#10;                for (j in 0 until itemsArr.length()) {&#10;                    val it = itemsArr.optJSONObject(j) ?: continue&#10;                    val id = it.optLong(&quot;id&quot;, System.currentTimeMillis())&#10;                    val title = it.optString(&quot;title&quot;, &quot;&quot;)&#10;                    // skip items that refer to plasma&#10;                    if (title.contains(&quot;plasma&quot;, ignoreCase = true)) continue&#10;                    val url = it.optString(&quot;fileUrl&quot;, &quot;&quot;)&#10;                    val desc = it.optString(&quot;description&quot;, &quot;&quot;)&#10;                    items.add(ManualItem(id = id, title = title, fileUrl = url, description = desc))&#10;                }&#10;                list.add(ManualSection(name = name, items = items))&#10;            }&#10;            list&#10;        } catch (e: Exception) {&#10;            e.printStackTrace()&#10;            mutableListOf()&#10;        }&#10;    }&#10;&#10;    // Raw loader without filtering (used for migration from old data)&#10;    fun loadAllRaw(context: Context): MutableList&lt;ManualSection&gt; {&#10;        val sp = context.getSharedPreferences(PREF, Context.MODE_PRIVATE)&#10;        val raw = sp.getString(KEY, null) ?: return mutableListOf()&#10;        return try {&#10;            val arr = JSONArray(raw)&#10;            val list = mutableListOf&lt;ManualSection&gt;()&#10;            for (i in 0 until arr.length()) {&#10;                val obj = arr.optJSONObject(i) ?: continue&#10;                val name = obj.optString(&quot;name&quot;, &quot;&quot;)&#10;                val itemsArr = obj.optJSONArray(&quot;items&quot;) ?: JSONArray()&#10;                val items = mutableListOf&lt;ManualItem&gt;()&#10;                for (j in 0 until itemsArr.length()) {&#10;                    val it = itemsArr.optJSONObject(j) ?: continue&#10;                    val id = it.optLong(&quot;id&quot;, System.currentTimeMillis())&#10;                    val title = it.optString(&quot;title&quot;, &quot;&quot;)&#10;                    val url = it.optString(&quot;fileUrl&quot;, &quot;&quot;)&#10;                    val desc = it.optString(&quot;description&quot;, &quot;&quot;)&#10;                    items.add(ManualItem(id = id, title = title, fileUrl = url, description = desc))&#10;                }&#10;                list.add(ManualSection(name = name, items = items))&#10;            }&#10;            list&#10;        } catch (e: Exception) {&#10;            e.printStackTrace()&#10;            mutableListOf()&#10;        }&#10;    }&#10;&#10;    fun saveAll(context: Context, sections: List&lt;ManualSection&gt;) {&#10;        val sp = context.getSharedPreferences(PREF, Context.MODE_PRIVATE)&#10;        val arr = JSONArray()&#10;        sections.forEach { sec -&gt;&#10;            val obj = JSONObject()&#10;            obj.put(&quot;name&quot;, sec.name)&#10;            val a = JSONArray()&#10;            sec.items.forEach { it -&gt;&#10;                val o = JSONObject()&#10;                o.put(&quot;id&quot;, it.id)&#10;                o.put(&quot;title&quot;, it.title)&#10;                o.put(&quot;fileUrl&quot;, it.fileUrl)&#10;                o.put(&quot;description&quot;, it.description)&#10;                a.put(o)&#10;            }&#10;            obj.put(&quot;items&quot;, a)&#10;            arr.put(obj)&#10;        }&#10;        sp.edit { putString(KEY, arr.toString()) }&#10;    }&#10;&#10;    fun addSection(context: Context, name: String) {&#10;        val list = loadAll(context)&#10;        if (list.any { it.name.equals(name, ignoreCase = true) }) return&#10;        list.add(ManualSection(name))&#10;        saveAll(context, list)&#10;    }&#10;&#10;    fun addItem(context: Context, sectionName: String, title: String, fileUrl: String, description: String = &quot;&quot;) {&#10;        val list = loadAll(context)&#10;        val sec = list.firstOrNull { it.name.equals(sectionName, ignoreCase = true) } ?: run {&#10;            val s = ManualSection(sectionName)&#10;            list.add(s)&#10;            s&#10;        }&#10;        sec.items.add(ManualItem(title = title, fileUrl = fileUrl, description = description))&#10;        saveAll(context, list)&#10;    }&#10;&#10;    fun removeItem(context: Context, sectionName: String, itemId: Long) {&#10;        val list = loadAll(context)&#10;        val sec = list.firstOrNull { it.name.equals(sectionName, ignoreCase = true) } ?: return&#10;        sec.items.removeAll { it.id == itemId }&#10;        saveAll(context, list)&#10;    }&#10;&#10;    fun removeSection(context: Context, sectionName: String) {&#10;        val list = loadAll(context)&#10;        list.removeAll { it.name.equals(sectionName, ignoreCase = true) }&#10;        saveAll(context, list)&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.plasmatrack&#10;&#10;import android.content.Context&#10;import androidx.core.content.edit&#10;import org.json.JSONArray&#10;import org.json.JSONObject&#10;&#10;// Data model reused for manuals (PDFs only)&#10;data class ManualItem(val id: Long = System.currentTimeMillis(), val title: String, val fileUrl: String, val description: String = &quot;&quot;)&#10;data class ManualSection(val name: String, val items: MutableList&lt;ManualItem&gt; = mutableListOf())&#10;&#10;object ManualStorage {&#10;    private const val PREF = &quot;manual_guides_prefs&quot;&#10;    private const val KEY = &quot;manual_guides_v1&quot;&#10;&#10;    fun loadAll(context: Context): MutableList&lt;ManualSection&gt; {&#10;        val sp = context.getSharedPreferences(PREF, Context.MODE_PRIVATE)&#10;        val raw = sp.getString(KEY, null) ?: return mutableListOf()&#10;        return try {&#10;            val arr = JSONArray(raw)&#10;            val list = mutableListOf&lt;ManualSection&gt;()&#10;            for (i in 0 until arr.length()) {&#10;                val obj = arr.optJSONObject(i) ?: continue&#10;                val name = obj.optString(&quot;name&quot;, &quot;&quot;)&#10;                // skip any section that mentions plasma to keep Aqua storage clean&#10;                if (name.contains(&quot;plasma&quot;, ignoreCase = true)) continue&#10;                val itemsArr = obj.optJSONArray(&quot;items&quot;) ?: JSONArray()&#10;                val items = mutableListOf&lt;ManualItem&gt;()&#10;                for (j in 0 until itemsArr.length()) {&#10;                    val it = itemsArr.optJSONObject(j) ?: continue&#10;                    val id = it.optLong(&quot;id&quot;, System.currentTimeMillis())&#10;                    val title = it.optString(&quot;title&quot;, &quot;&quot;)&#10;                    // skip items that refer to plasma&#10;                    if (title.contains(&quot;plasma&quot;, ignoreCase = true)) continue&#10;                    val url = it.optString(&quot;fileUrl&quot;, &quot;&quot;)&#10;                    val desc = it.optString(&quot;description&quot;, &quot;&quot;)&#10;                    items.add(ManualItem(id = id, title = title, fileUrl = url, description = desc))&#10;                }&#10;                list.add(ManualSection(name = name, items = items))&#10;            }&#10;            list&#10;        } catch (e: Exception) {&#10;            e.printStackTrace()&#10;            mutableListOf()&#10;        }&#10;    }&#10;&#10;    // Raw loader without filtering (used for migration from old data)&#10;    fun loadAllRaw(context: Context): MutableList&lt;ManualSection&gt; {&#10;        val sp = context.getSharedPreferences(PREF, Context.MODE_PRIVATE)&#10;        val raw = sp.getString(KEY, null) ?: return mutableListOf()&#10;        return try {&#10;            val arr = JSONArray(raw)&#10;            val list = mutableListOf&lt;ManualSection&gt;()&#10;            for (i in 0 until arr.length()) {&#10;                val obj = arr.optJSONObject(i) ?: continue&#10;                val name = obj.optString(&quot;name&quot;, &quot;&quot;)&#10;                val itemsArr = obj.optJSONArray(&quot;items&quot;) ?: JSONArray()&#10;                val items = mutableListOf&lt;ManualItem&gt;()&#10;                for (j in 0 until itemsArr.length()) {&#10;                    val it = itemsArr.optJSONObject(j) ?: continue&#10;                    val id = it.optLong(&quot;id&quot;, System.currentTimeMillis())&#10;                    val title = it.optString(&quot;title&quot;, &quot;&quot;)&#10;                    val url = it.optString(&quot;fileUrl&quot;, &quot;&quot;)&#10;                    val desc = it.optString(&quot;description&quot;, &quot;&quot;)&#10;                    items.add(ManualItem(id = id, title = title, fileUrl = url, description = desc))&#10;                }&#10;                list.add(ManualSection(name = name, items = items))&#10;            }&#10;            list&#10;        } catch (e: Exception) {&#10;            e.printStackTrace()&#10;            mutableListOf()&#10;        }&#10;    }&#10;&#10;    fun saveAll(context: Context, sections: List&lt;ManualSection&gt;) {&#10;        val sp = context.getSharedPreferences(PREF, Context.MODE_PRIVATE)&#10;        val arr = JSONArray()&#10;        sections.forEach { sec -&gt;&#10;            val obj = JSONObject()&#10;            obj.put(&quot;name&quot;, sec.name)&#10;            val a = JSONArray()&#10;            sec.items.forEach { it -&gt;&#10;                val o = JSONObject()&#10;                o.put(&quot;id&quot;, it.id)&#10;                o.put(&quot;title&quot;, it.title)&#10;                o.put(&quot;fileUrl&quot;, it.fileUrl)&#10;                o.put(&quot;description&quot;, it.description)&#10;                a.put(o)&#10;            }&#10;            obj.put(&quot;items&quot;, a)&#10;            arr.put(obj)&#10;        }&#10;        sp.edit { putString(KEY, arr.toString()) }&#10;    }&#10;&#10;    fun addSection(context: Context, name: String) {&#10;        val list = loadAll(context)&#10;        if (list.any { it.name.equals(name, ignoreCase = true) }) return&#10;        list.add(ManualSection(name))&#10;        saveAll(context, list)&#10;    }&#10;&#10;    fun addItem(context: Context, sectionName: String, title: String, fileUrl: String, description: String = &quot;&quot;) {&#10;        val list = loadAll(context)&#10;        val sec = list.firstOrNull { it.name.equals(sectionName, ignoreCase = true) } ?: run {&#10;            val s = ManualSection(sectionName)&#10;            list.add(s)&#10;            s&#10;        }&#10;        sec.items.add(ManualItem(title = title, fileUrl = fileUrl, description = description))&#10;        saveAll(context, list)&#10;    }&#10;&#10;    fun removeItem(context: Context, sectionName: String, itemId: Long) {&#10;        val list = loadAll(context)&#10;        val sec = list.firstOrNull { it.name.equals(sectionName, ignoreCase = true) } ?: return&#10;        sec.items.removeAll { it.id == itemId }&#10;        saveAll(context, list)&#10;    }&#10;&#10;    fun removeSection(context: Context, sectionName: String) {&#10;        val list = loadAll(context)&#10;        list.removeAll { it.name.equals(sectionName, ignoreCase = true) }&#10;        saveAll(context, list)&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/drawable/ic_lock.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/drawable/ic_lock.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:width=&quot;24dp&quot;&#10;    android:height=&quot;24dp&quot;&#10;    android:viewportWidth=&quot;24&quot;&#10;    android:viewportHeight=&quot;24&quot;&gt;&#10;    &lt;path android:fillColor=&quot;#FFFFFFFF&quot; android:pathData=&quot;M12,17a2,2 0 0,0 2-2v-2a2,2 0 0,0-4,0v2a2,2 0 0,0 2,2zM17,8h-1V6a4,4 0 0,0-8,0v2H7c-1.1,0-2,0.9-2,2v8c0,1.1 0.9,2 2,2h10c1.1,0 2-0.9 2-2v-8c0-1.1-0.9-2-2-2z&quot;/&gt;&#10;&lt;/vector&gt;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:width=&quot;24dp&quot;&#10;    android:height=&quot;24dp&quot;&#10;    android:viewportWidth=&quot;24&quot;&#10;    android:viewportHeight=&quot;24&quot;&gt;&#10;    &lt;path android:fillColor=&quot;#FFFFFFFF&quot; android:pathData=&quot;M12,17a2,2 0 0,0 2-2v-2a2,2 0 0,0-4,0v2a2,2 0 0,0 2,2zM17,8h-1V6a4,4 0 0,0-8,0v2H7c-1.1,0-2,0.9-2,2v8c0,1.1 0.9,2 2,2h10c1.1,0 2-0.9 2-2v-8c0-1.1-0.9-2-2-2z&quot;/&gt;&#10;&lt;/vector&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/drawable/ic_settings.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/drawable/ic_settings.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:width=&quot;24dp&quot;&#10;    android:height=&quot;24dp&quot;&#10;    android:viewportWidth=&quot;24&quot;&#10;    android:viewportHeight=&quot;24&quot;&gt;&#10;    &lt;path&#10;        android:fillColor=&quot;#FFFFFFFF&quot;&#10;        android:pathData=&quot;M19.14,12.94c0.04-0.31 0.06-0.63 0.06-0.94s-0.02-0.63-0.06-0.94l2.03-1.58c0.18-0.14 0.23-0.41 0.12-0.61l-1.92-3.32c-0.11-0.19-0.35-0.27-0.55-0.2l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.5,2.5c-0.03-0.22-0.22-0.38-0.45-0.38h-3.9c-0.23,0-0.42,0.16-0.45,0.38L9.39,4.22c-0.59,0.24-1.12,0.56-1.62,0.94L5.38,4.2c-0.2-0.08-0.44,0.01-0.55,0.2L2.91,7.72c-0.11,0.2-0.06,0.47 0.12,0.61l2.03,1.58c-0.04,0.31-0.06,0.63-0.06,0.94s0.02,0.63 0.06,0.94L3.03,14.45c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.11,0.19 0.35,0.27 0.55,0.2l2.39-0.96c0.5,0.38 1.03,0.7 1.62,0.94l0.21,1.72c0.03,0.22 0.22,0.38 0.45,0.38h3.9c0.23,0 0.42-0.16 0.45-0.38l0.21-1.72c0.59-0.24 1.12-0.56 1.62-0.94l2.39,0.96c0.2,0.08 0.44-0.01 0.55-0.2l1.92-3.32c0.11-0.2 0.06-0.47-0.12-0.61l-2.03-1.58zM12,15.5c-1.94,0-3.5-1.56-3.5-3.5s1.56-3.5 3.5-3.5 3.5,1.56 3.5,3.5-1.56,3.5-3.5,3.5z&quot;/&gt;&#10;&lt;/vector&gt;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:width=&quot;24dp&quot;&#10;    android:height=&quot;24dp&quot;&#10;    android:viewportWidth=&quot;24&quot;&#10;    android:viewportHeight=&quot;24&quot;&gt;&#10;    &lt;path&#10;        android:fillColor=&quot;#FFFFFFFF&quot;&#10;        android:pathData=&quot;M19.14,12.94c0.04-0.31 0.06-0.63 0.06-0.94s-0.02-0.63-0.06-0.94l2.03-1.58c0.18-0.14 0.23-0.41 0.12-0.61l-1.92-3.32c-0.11-0.19-0.35-0.27-0.55-0.2l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.5,2.5c-0.03-0.22-0.22-0.38-0.45-0.38h-3.9c-0.23,0-0.42,0.16-0.45,0.38L9.39,4.22c-0.59,0.24-1.12,0.56-1.62,0.94L5.38,4.2c-0.2-0.08-0.44,0.01-0.55,0.2L2.91,7.72c-0.11,0.2-0.06,0.47 0.12,0.61l2.03,1.58c-0.04,0.31-0.06,0.63-0.06,0.94s0.02,0.63 0.06,0.94L3.03,14.45c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.11,0.19 0.35,0.27 0.55,0.2l2.39-0.96c0.5,0.38 1.03,0.7 1.62,0.94l0.21,1.72c0.03,0.22 0.22,0.38 0.45,0.38h3.9c0.23,0 0.42-0.16 0.45-0.38l0.21-1.72c0.59-0.24 1.12-0.56 1.62-0.94l2.39,0.96c0.2,0.08 0.44-0.01 0.55-0.2l1.92-3.32c0.11-0.2 0.06-0.47-0.12-0.61l-2.03-1.58zM12,15.5c-1.94,0-3.5-1.56-3.5-3.5s1.56-3.5 3.5-3.5 3.5,1.56 3.5,3.5-1.56,3.5-3.5,3.5z&quot;/&gt;&#10;&lt;/vector&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>