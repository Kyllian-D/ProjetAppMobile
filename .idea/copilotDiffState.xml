<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/plasmatrack/HomeActivity.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/plasmatrack/HomeActivity.kt" />
              <option name="originalContent" value="package com.example.plasmatrack&#10;&#10;import android.app.Activity&#10;import android.content.Context&#10;import android.content.Intent&#10;import android.os.Bundle&#10;import androidx.activity.ComponentActivity&#10;import androidx.activity.compose.setContent&#10;import androidx.activity.enableEdgeToEdge&#10;import androidx.compose.foundation.Image&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.layout.Arrangement&#10;import androidx.compose.foundation.layout.Box&#10;import androidx.compose.foundation.layout.Column&#10;import androidx.compose.foundation.layout.Row&#10;import androidx.compose.foundation.layout.Spacer&#10;import androidx.compose.foundation.layout.fillMaxSize&#10;import androidx.compose.foundation.layout.fillMaxWidth&#10;import androidx.compose.foundation.layout.height&#10;import androidx.compose.foundation.layout.navigationBarsPadding&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.foundation.layout.size&#10;import androidx.compose.foundation.shape.CircleShape&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.material3.CardDefaults&#10;import androidx.compose.material3.ElevatedCard&#10;import androidx.compose.material3.Icon&#10;import androidx.compose.material3.IconButton&#10;import androidx.compose.material3.Surface&#10;import androidx.compose.material3.Text&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.clip&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.tooling.preview.Preview&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.layout.ContentScale&#10;import androidx.compose.ui.platform.LocalContext&#10;import androidx.compose.ui.zIndex&#10;import com.example.plasmatrack.ui.theme.PlasmaTrackTheme&#10;import androidx.core.view.WindowCompat&#10;&#10;// nouveaux imports pour gérer les insets&#10;import androidx.compose.ui.platform.LocalView&#10;import androidx.compose.ui.platform.LocalDensity&#10;import androidx.compose.runtime.remember&#10;import androidx.core.view.ViewCompat&#10;import androidx.core.view.WindowInsetsCompat&#10;&#10;class HomeActivity : ComponentActivity() {&#10;    override fun onCreate(savedInstanceState: Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;        enableEdgeToEdge()&#10;        // Initialiser la session en mémoire à partir des extras de l'intent si fournis (chemin de connexion)&#10;        intent?.let { itnt -&gt;&#10;            val r = itnt.getStringExtra(&quot;session_role&quot;)&#10;            val f = itnt.getStringExtra(&quot;session_first&quot;)&#10;            if (!r.isNullOrBlank() || !f.isNullOrBlank()) {&#10;                SessionManager.setSession(r, f)&#10;            }&#10;        }&#10;        // Remettre la barre de navigation en blanc et demander des icônes sombres (même comportement que ClockActivity)&#10;        try {&#10;            @Suppress(&quot;DEPRECATION&quot;)&#10;            window.navigationBarColor = android.graphics.Color.WHITE&#10;            WindowCompat.getInsetsController(window, window.decorView).isAppearanceLightNavigationBars = true&#10;        } catch (_: Exception) { /* ignore on older devices */ }&#10;        setContent {&#10;            PlasmaTrackTheme {&#10;                Surface(modifier = Modifier.fillMaxSize(), color = Color.Transparent) {&#10;                    HomeScreen()&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun HomeScreen() {&#10;    // Récupérer le prénom/nom sauvegardé pour l'afficher&#10;    val context = LocalContext.current&#10;    val activity = context as? Activity&#10;    val prefs = context.getSharedPreferences(&quot;auth&quot;, Context.MODE_PRIVATE)&#10;    // Si une session en mémoire existe (par exemple superadmin), la privilégier par rapport aux préférences persistantes&#10;    val sessionFirst = SessionManager.firstName&#10;    val displayName = sessionFirst ?: prefs.getString(&quot;saved_first&quot;, null) ?: &quot;utilisateur&quot;&#10;&#10;    // Détecter la hauteur de la barre de navigation (en pixels) et convertir en dp&#10;    val view = LocalView.current&#10;    val bottomPx = remember(view) {&#10;        ViewCompat.getRootWindowInsets(view)&#10;            ?.getInsets(WindowInsetsCompat.Type.navigationBars())&#10;            ?.bottom ?: 0&#10;    }&#10;    val navBarBottomDp = with(LocalDensity.current) { bottomPx.toDp() }&#10;    val bottomExtraPadding = if (navBarBottomDp &gt; 0.dp) 8.dp else 0.dp&#10;&#10;    // utilise fond blanc&#10;    Box(modifier = Modifier&#10;        .fillMaxSize()&#10;        .background(Color.White)&#10;    ) {&#10;        Column(modifier = Modifier&#10;            .fillMaxSize()&#10;            .padding(start = 16.dp, end = 16.dp, top = 60.dp, bottom = 8.dp)&#10;        ) {&#10;            // Ligne supérieure avatar + texte d'accueil&#10;            Row(modifier = Modifier.fillMaxWidth(), horizontalArrangement = Arrangement.SpaceBetween, verticalAlignment = Alignment.CenterVertically) {&#10;                Row(verticalAlignment = Alignment.CenterVertically) {&#10;                    // Avatar circulaire (image de profil)&#10;                    Image(&#10;                        painter = painterResource(id = R.drawable.pp1),&#10;                        contentDescription = &quot;Profile picture&quot;,&#10;                        modifier = Modifier&#10;                            .size(48.dp)&#10;                            .clip(CircleShape),&#10;                        contentScale = ContentScale.Crop&#10;                    )&#10;&#10;                    Spacer(modifier = Modifier.size(12.dp))&#10;&#10;                    // Colonne contenant le texte &quot;Hi, &lt;prenom&gt;&quot; et le sous-texte&#10;                    Column {&#10;                        Text(text = &quot;Hi, $displayName&quot;, color = Color.Black, fontWeight = FontWeight.Bold)&#10;                        Text(text = &quot;Explore the world&quot;, color = Color.Gray)&#10;                    }&#10;                }&#10;&#10;                // Note zone de droite (top-right) retirée intentionnellement&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(6.dp))&#10;&#10;            // Barre de recherche / champ simulé (grand rectangle arrondi)&#10;            // -&gt; modifier .height(...) pour ajuster sa hauteur&#10;            Box(modifier = Modifier&#10;                .fillMaxWidth()&#10;                .height(56.dp)&#10;                .clip(RoundedCornerShape(28.dp))&#10;                .background(Color(0xFFF5F5F5))) {&#10;            }&#10;&#10;            // Icône panier (shopping bag) positionnée à droite sous la barre&#10;            Spacer(modifier = Modifier.height(8.dp))&#10;            Box(modifier = Modifier.fillMaxWidth(), contentAlignment = Alignment.TopEnd) {&#10;                // IconButton qui ouvre la page ShopActivity&#10;                IconButton(onClick = { activity?.startActivity(Intent(activity, ShopActivity::class.java)) }) {&#10;                    Icon(&#10;                        painter = painterResource(id = R.drawable.shoppingbagb),&#10;                        contentDescription = &quot;Shopping Bag&quot;,&#10;                        modifier = Modifier.size(30.dp),&#10;                        tint = Color.Unspecified&#10;                    )&#10;                }&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(6.dp))&#10;&#10;            // === Section produit 1 (Aqua) ===&#10;            Box(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .height(180.dp),&#10;                contentAlignment = Alignment.Center&#10;            ) {&#10;                ElevatedCard(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth(0.80f)&#10;                        .height(180.dp)&#10;                        .align(Alignment.Center)&#10;                        .zIndex(0f),&#10;                    shape = RoundedCornerShape(20.dp),&#10;                    colors = CardDefaults.elevatedCardColors(containerColor = Color.White),&#10;                    elevation = CardDefaults.elevatedCardElevation(12.dp)&#10;                ) { }&#10;&#10;                Box(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth(0.75f)   // même largeur que la carte&#10;                        .height(160.dp)        // même hauteur que la carte&#10;                        .align(Alignment.Center)&#10;                        .zIndex(1f)&#10;                        .clickable { activity?.startActivity(Intent(activity, AquaTYPHOONActivity::class.java)) },&#10;                    contentAlignment = Alignment.Center&#10;                ) {&#10;                    Image(&#10;                        painter = painterResource(id = R.drawable.aquamachine),&#10;                        contentDescription = &quot;AquaTYPHOON image&quot;,&#10;                        modifier = Modifier&#10;                            .fillMaxSize()&#10;                            .clip(RoundedCornerShape(18.dp)),&#10;                        contentScale = ContentScale.Crop,&#10;                        alignment = Alignment.Center&#10;                    )&#10;                }&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(6.dp))&#10;&#10;            // Petit logo / nom sous la photo du produit Aqua&#10;            // -&gt; modifier .height(...) et .fillMaxWidth(...) pour ajuster&#10;            Box(modifier = Modifier.fillMaxWidth(), contentAlignment = Alignment.Center) {&#10;                Image(&#10;                    painter = painterResource(id = R.drawable.aquanom),&#10;                    contentDescription = &quot;Aqua logo&quot;,&#10;                    modifier = Modifier&#10;                        .height(40.dp)&#10;                        .fillMaxWidth(0.4f),&#10;                    contentScale = ContentScale.Fit&#10;                )&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(32.dp))&#10;&#10;            // Section produit 2 (Plasma) &#10;            // Structure identique à la section Aqua : plaque blanche + conteneur image cliquable&#10;            Box(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .height(180.dp),&#10;                contentAlignment = Alignment.Center&#10;            ) {&#10;                ElevatedCard(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth(0.80f)&#10;                        .height(180.dp)&#10;                        .align(Alignment.Center)&#10;                        .zIndex(0f),&#10;                    shape = RoundedCornerShape(20.dp),&#10;                    colors = CardDefaults.elevatedCardColors(containerColor = Color.White),&#10;                    elevation = CardDefaults.elevatedCardElevation(12.dp)&#10;                ) { }&#10;&#10;                Box(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth(0.75f)   // aligné avec la carte&#10;                        .height(160.dp)&#10;                        .align(Alignment.Center)&#10;                        .zIndex(1f)&#10;                        .clickable { activity?.startActivity(Intent(activity, PlasmaTYPHOONActivity::class.java)) }&#10;                ) {&#10;                    Image(&#10;                        painter = painterResource(id = R.drawable.plasmamachine),&#10;                        contentDescription = &quot;PlasmaTYPHOON image&quot;,&#10;                        modifier = Modifier&#10;                            .fillMaxSize()&#10;                            .clip(RoundedCornerShape(18.dp)),&#10;                        contentScale = ContentScale.Crop&#10;                    )&#10;                }&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(4.dp))&#10;            // Petit logo / nom sous la photo du produit Plasma&#10;            Box(modifier = Modifier.fillMaxWidth(), contentAlignment = Alignment.Center) {&#10;                Image(&#10;                    painter = painterResource(id = R.drawable.plasmatyphoonnom),&#10;                    contentDescription = &quot;Plasma logo&quot;,&#10;                    modifier = Modifier&#10;                        .height(50.dp)&#10;                        .fillMaxWidth(0.4f),&#10;                    contentScale = ContentScale.Fit&#10;                )&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(16.dp))&#10;&#10;&#10;        }&#10;&#10;        // Barre d'icônes fixée en bas du Box parent (copié depuis ClockActivity)&#10;        Surface(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .align(Alignment.BottomCenter)&#10;                .navigationBarsPadding(),&#10;            color = Color.White,&#10;            tonalElevation = 0.dp&#10;        ) {&#10;            Row(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(start = 16.dp, end = 16.dp, bottom = bottomExtraPadding),&#10;                horizontalArrangement = Arrangement.SpaceBetween,&#10;                verticalAlignment = Alignment.CenterVertically&#10;            ) {&#10;                IconButton(onClick = { activity?.startActivity(Intent(activity, HomeActivity::class.java)) }, modifier = Modifier.size(48.dp)) {&#10;                    Icon(painter = painterResource(id = R.drawable.blackiconhomeb), contentDescription = &quot;home&quot;, modifier = Modifier.size(24.dp), tint = Color.Unspecified)&#10;                }&#10;&#10;                IconButton(onClick = {&#10;                    val intent = Intent(activity, ClockActivity::class.java)&#10;                    try { activity?.startActivity(intent) } catch (_: Exception) { intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK); context.startActivity(intent) }&#10;                }, modifier = Modifier.size(48.dp)) {&#10;                    Icon(painter = painterResource(id = R.drawable.iconclockb), contentDescription = &quot;clock&quot;, modifier = Modifier.size(24.dp), tint = Color.Unspecified)&#10;                }&#10;&#10;                IconButton(onClick = {&#10;                    val intent = Intent(activity, FavoritesActivity::class.java)&#10;                    try { activity?.startActivity(intent) } catch (_: Exception) { intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK); context.startActivity(intent) }&#10;                }, modifier = Modifier.size(48.dp)) {&#10;                    Icon(painter = painterResource(id = R.drawable.iconheartb), contentDescription = &quot;heart&quot;, modifier = Modifier.size(24.dp), tint = Color.Unspecified)&#10;                }&#10;&#10;                IconButton(onClick = { activity?.startActivity(Intent(activity, ParametersActivity::class.java)) }, modifier = Modifier.size(48.dp)) {&#10;                    Icon(painter = painterResource(id = R.drawable.iconuserb), contentDescription = &quot;user&quot;, modifier = Modifier.size(24.dp), tint = Color.Unspecified)&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Preview(showBackground = true)&#10;@Composable&#10;fun HomePreview() {&#10;    PlasmaTrackTheme {&#10;        HomeScreen()&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.plasmatrack&#10;&#10;import android.app.Activity&#10;import android.content.Context&#10;import android.content.Intent&#10;import android.os.Bundle&#10;import androidx.activity.ComponentActivity&#10;import androidx.activity.compose.setContent&#10;import androidx.activity.enableEdgeToEdge&#10;import androidx.compose.foundation.Image&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.layout.Arrangement&#10;import androidx.compose.foundation.layout.Box&#10;import androidx.compose.foundation.layout.Column&#10;import androidx.compose.foundation.layout.Row&#10;import androidx.compose.foundation.layout.Spacer&#10;import androidx.compose.foundation.layout.fillMaxSize&#10;import androidx.compose.foundation.layout.fillMaxWidth&#10;import androidx.compose.foundation.layout.height&#10;import androidx.compose.foundation.layout.navigationBarsPadding&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.foundation.layout.size&#10;import androidx.compose.foundation.shape.CircleShape&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.material3.CardDefaults&#10;import androidx.compose.material3.ElevatedCard&#10;import androidx.compose.material3.Icon&#10;import androidx.compose.material3.IconButton&#10;import androidx.compose.material3.Surface&#10;import androidx.compose.material3.Text&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.clip&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.tooling.preview.Preview&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.layout.ContentScale&#10;import androidx.compose.ui.platform.LocalContext&#10;import androidx.compose.ui.zIndex&#10;import com.example.plasmatrack.ui.theme.PlasmaTrackTheme&#10;import androidx.core.view.WindowCompat&#10;&#10;// nouveaux imports pour gérer les insets&#10;import androidx.compose.ui.platform.LocalView&#10;import androidx.compose.ui.platform.LocalDensity&#10;import androidx.compose.runtime.remember&#10;import androidx.core.view.ViewCompat&#10;import androidx.core.view.WindowInsetsCompat&#10;&#10;class HomeActivity : ComponentActivity() {&#10;    override fun onCreate(savedInstanceState: Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;        enableEdgeToEdge()&#10;        // Initialiser la session en mémoire à partir des extras de l'intent si fournis (chemin de connexion)&#10;        intent?.let { itnt -&gt;&#10;            val r = itnt.getStringExtra(&quot;session_role&quot;)&#10;            val f = itnt.getStringExtra(&quot;session_first&quot;)&#10;            if (!r.isNullOrBlank() || !f.isNullOrBlank()) {&#10;                SessionManager.setSession(r, f)&#10;            }&#10;        }&#10;        // Remettre la barre de navigation en blanc et demander des icônes sombres (même comportement que ClockActivity)&#10;        try {&#10;            @Suppress(&quot;DEPRECATION&quot;)&#10;            window.navigationBarColor = android.graphics.Color.WHITE&#10;            WindowCompat.getInsetsController(window, window.decorView).isAppearanceLightNavigationBars = true&#10;        } catch (_: Exception) { /* ignore on older devices */ }&#10;        setContent {&#10;            PlasmaTrackTheme {&#10;                Surface(modifier = Modifier.fillMaxSize(), color = Color.Transparent) {&#10;                    HomeScreen()&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun HomeScreen() {&#10;    // Récupérer le prénom/nom sauvegardé pour l'afficher&#10;    val context = LocalContext.current&#10;    val activity = context as? Activity&#10;    val prefs = context.getSharedPreferences(&quot;auth&quot;, Context.MODE_PRIVATE)&#10;    // Si une session en mémoire existe (par exemple superadmin), la privilégier par rapport aux préférences persistantes&#10;    val sessionFirst = SessionManager.firstName&#10;    val displayName = sessionFirst ?: prefs.getString(&quot;saved_first&quot;, null) ?: &quot;utilisateur&quot;&#10;&#10;    // Détecter la hauteur de la barre de navigation (en pixels) et convertir en dp&#10;    val view = LocalView.current&#10;    val bottomPx = remember(view) {&#10;        ViewCompat.getRootWindowInsets(view)&#10;            ?.getInsets(WindowInsetsCompat.Type.navigationBars())&#10;            ?.bottom ?: 0&#10;    }&#10;    val navBarBottomDp = with(LocalDensity.current) { bottomPx.toDp() }&#10;    val bottomExtraPadding = if (navBarBottomDp &gt; 0.dp) 8.dp else 0.dp&#10;&#10;    // utilise fond blanc&#10;    Box(modifier = Modifier&#10;        .fillMaxSize()&#10;        .background(Color.White)&#10;    ) {&#10;        Column(modifier = Modifier&#10;            .fillMaxSize()&#10;            .padding(start = 16.dp, end = 16.dp, top = 60.dp, bottom = 8.dp)&#10;        ) {&#10;            // Ligne supérieure avatar + texte d'accueil&#10;            Row(modifier = Modifier.fillMaxWidth(), horizontalArrangement = Arrangement.SpaceBetween, verticalAlignment = Alignment.CenterVertically) {&#10;                Row(verticalAlignment = Alignment.CenterVertically) {&#10;                    // Avatar circulaire (image de profil)&#10;                    Image(&#10;                        painter = painterResource(id = R.drawable.pp1),&#10;                        contentDescription = &quot;Profile picture&quot;,&#10;                        modifier = Modifier&#10;                            .size(48.dp)&#10;                            .clip(CircleShape),&#10;                        contentScale = ContentScale.Crop&#10;                    )&#10;&#10;                    Spacer(modifier = Modifier.size(12.dp))&#10;&#10;                    // Colonne contenant le texte &quot;Hi, &lt;prenom&gt;&quot; et le sous-texte&#10;                    Column {&#10;                        Text(text = &quot;Hi, $displayName&quot;, color = Color.Black, fontWeight = FontWeight.Bold)&#10;                        Text(text = &quot;Explore the world&quot;, color = Color.Gray)&#10;                    }&#10;                }&#10;&#10;                // Note zone de droite (top-right) retirée intentionnellement&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(6.dp))&#10;&#10;            // Barre de recherche / champ simulé (grand rectangle arrondi)&#10;            // -&gt; modifier .height(...) pour ajuster sa hauteur&#10;            Box(modifier = Modifier&#10;                .fillMaxWidth()&#10;                .height(56.dp)&#10;                .clip(RoundedCornerShape(28.dp))&#10;                .background(Color(0xFFF5F5F5))) {&#10;            }&#10;&#10;            // Icône panier (shopping bag) positionnée à droite sous la barre&#10;            Spacer(modifier = Modifier.height(8.dp))&#10;            Box(modifier = Modifier.fillMaxWidth(), contentAlignment = Alignment.TopEnd) {&#10;                // IconButton qui ouvre la page ShopActivity&#10;                IconButton(onClick = { activity?.startActivity(Intent(activity, ShopActivity::class.java)) }) {&#10;                    Icon(&#10;                        painter = painterResource(id = R.drawable.shoppingbagb),&#10;                        contentDescription = &quot;Shopping Bag&quot;,&#10;                        modifier = Modifier.size(30.dp),&#10;                        tint = Color.Unspecified&#10;                    )&#10;                }&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(6.dp))&#10;&#10;            // === Section produit 1 (Aqua) ===&#10;            Box(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .height(180.dp),&#10;                contentAlignment = Alignment.Center&#10;            ) {&#10;                ElevatedCard(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth(0.80f)&#10;                        .height(180.dp)&#10;                        .align(Alignment.Center)&#10;                        .zIndex(0f),&#10;                    shape = RoundedCornerShape(20.dp),&#10;                    colors = CardDefaults.elevatedCardColors(containerColor = Color.White),&#10;                    elevation = CardDefaults.elevatedCardElevation(12.dp)&#10;                ) { }&#10;&#10;                Box(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth(0.75f)   // même largeur que la carte&#10;                        .height(160.dp)        // même hauteur que la carte&#10;                        .align(Alignment.Center)&#10;                        .zIndex(1f)&#10;                        .clickable { activity?.startActivity(Intent(activity, AquaTYPHOONActivity::class.java)) },&#10;                    contentAlignment = Alignment.Center&#10;                ) {&#10;                    Image(&#10;                        painter = painterResource(id = R.drawable.aquamachine),&#10;                        contentDescription = &quot;AquaTYPHOON image&quot;,&#10;                        modifier = Modifier&#10;                            .fillMaxSize()&#10;                            .clip(RoundedCornerShape(18.dp)),&#10;                        contentScale = ContentScale.Crop,&#10;                        alignment = Alignment.Center&#10;                    )&#10;                }&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(6.dp))&#10;&#10;            // Petit logo / nom sous la photo du produit Aqua&#10;            // -&gt; modifier .height(...) et .fillMaxWidth(...) pour ajuster&#10;            Box(modifier = Modifier.fillMaxWidth(), contentAlignment = Alignment.Center) {&#10;                Image(&#10;                    painter = painterResource(id = R.drawable.aquanom),&#10;                    contentDescription = &quot;Aqua logo&quot;,&#10;                    modifier = Modifier&#10;                        .height(40.dp)&#10;                        .fillMaxWidth(0.4f),&#10;                    contentScale = ContentScale.Fit&#10;                )&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(32.dp))&#10;&#10;            // Section produit 2 (Plasma) &#10;            // Structure identique à la section Aqua : plaque blanche + conteneur image cliquable&#10;            Box(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .height(180.dp),&#10;                contentAlignment = Alignment.Center&#10;            ) {&#10;                ElevatedCard(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth(0.80f)&#10;                        .height(180.dp)&#10;                        .align(Alignment.Center)&#10;                        .zIndex(0f),&#10;                    shape = RoundedCornerShape(20.dp),&#10;                    colors = CardDefaults.elevatedCardColors(containerColor = Color.White),&#10;                    elevation = CardDefaults.elevatedCardElevation(12.dp)&#10;                ) { }&#10;&#10;                Box(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth(0.75f)   // aligné avec la carte&#10;                        .height(160.dp)&#10;                        .align(Alignment.Center)&#10;                        .zIndex(1f)&#10;                        .clickable { activity?.startActivity(Intent(activity, PlasmaTYPHOONActivity::class.java)) }&#10;                ) {&#10;                    Image(&#10;                        painter = painterResource(id = R.drawable.plasmamachine),&#10;                        contentDescription = &quot;PlasmaTYPHOON image&quot;,&#10;                        modifier = Modifier&#10;                            .fillMaxSize()&#10;                            .clip(RoundedCornerShape(18.dp)),&#10;                        contentScale = ContentScale.Crop&#10;                    )&#10;                }&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(4.dp))&#10;            // Petit logo / nom sous la photo du produit Plasma&#10;            Box(modifier = Modifier.fillMaxWidth(), contentAlignment = Alignment.Center) {&#10;                Image(&#10;                    painter = painterResource(id = R.drawable.plasmatyphoonnom),&#10;                    contentDescription = &quot;Plasma logo&quot;,&#10;                    modifier = Modifier&#10;                        .height(50.dp)&#10;                        .fillMaxWidth(0.4f),&#10;                    contentScale = ContentScale.Fit&#10;                )&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(16.dp))&#10;&#10;&#10;        }&#10;&#10;        // Barre d'icônes fixée en bas du Box parent (copié depuis ClockActivity)&#10;        Surface(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .align(Alignment.BottomCenter)&#10;                .navigationBarsPadding(),&#10;            color = Color.White,&#10;            tonalElevation = 0.dp&#10;        ) {&#10;            Row(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(start = 16.dp, end = 16.dp, bottom = bottomExtraPadding),&#10;                horizontalArrangement = Arrangement.SpaceBetween,&#10;                verticalAlignment = Alignment.CenterVertically&#10;            ) {&#10;                IconButton(onClick = { activity?.startActivity(Intent(activity, HomeActivity::class.java)) }, modifier = Modifier.size(48.dp)) {&#10;                    Icon(painter = painterResource(id = R.drawable.blackiconhomeb), contentDescription = &quot;home&quot;, modifier = Modifier.size(24.dp), tint = Color.Unspecified)&#10;                }&#10;&#10;                IconButton(onClick = {&#10;                    val intent = Intent(activity, ClockActivity::class.java)&#10;                    try { activity?.startActivity(intent) } catch (_: Exception) { intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK); context.startActivity(intent) }&#10;                }, modifier = Modifier.size(48.dp)) {&#10;                    Icon(painter = painterResource(id = R.drawable.iconclockb), contentDescription = &quot;clock&quot;, modifier = Modifier.size(24.dp), tint = Color.Unspecified)&#10;                }&#10;&#10;                IconButton(onClick = {&#10;                    val intent = Intent(activity, FavoritesActivity::class.java)&#10;                    try { activity?.startActivity(intent) } catch (_: Exception) { intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK); context.startActivity(intent) }&#10;                }, modifier = Modifier.size(48.dp)) {&#10;                    Icon(painter = painterResource(id = R.drawable.iconheartb), contentDescription = &quot;heart&quot;, modifier = Modifier.size(24.dp), tint = Color.Unspecified)&#10;                }&#10;&#10;                IconButton(onClick = { activity?.startActivity(Intent(activity, ParametersActivity::class.java)) }, modifier = Modifier.size(48.dp)) {&#10;                    Icon(painter = painterResource(id = R.drawable.iconuserb), contentDescription = &quot;user&quot;, modifier = Modifier.size(24.dp), tint = Color.Unspecified)&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Preview(showBackground = true)&#10;@Composable&#10;fun HomePreview() {&#10;    PlasmaTrackTheme {&#10;        HomeScreen()&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/plasmatrack/LabelAlarmReceiver.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/plasmatrack/LabelAlarmReceiver.kt" />
              <option name="originalContent" value="package com.example.plasmatrack&#10;&#10;import android.annotation.SuppressLint&#10;import android.content.BroadcastReceiver&#10;import android.content.Context&#10;import android.content.Intent&#10;import android.app.NotificationChannel&#10;import android.app.NotificationManager&#10;import android.app.PendingIntent&#10;import android.os.Build&#10;import androidx.core.app.NotificationCompat&#10;&#10;@SuppressLint(&quot;MissingPermission&quot;) // la permission POST_NOTIFICATIONS doit être demandée par l'application si nécessaire&#10;class LabelAlarmReceiver : BroadcastReceiver() {&#10;    override fun onReceive(context: Context, intent: Intent) {&#10;        val labelId = intent.getLongExtra(&quot;labelId&quot;, -1L)&#10;        val endoscope = intent.getStringExtra(&quot;endoscope&quot;) ?: &quot;Label&quot;&#10;        val nm = context.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager&#10;        val channelId = &quot;labels_channel&quot;&#10;        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {&#10;            val ch = NotificationChannel(channelId, &quot;Label alarms&quot;, NotificationManager.IMPORTANCE_HIGH)&#10;            nm.createNotificationChannel(ch)&#10;        }&#10;        val pi = PendingIntent.getActivity(context, 0, Intent(context, ParametersActivity::class.java), PendingIntent.FLAG_IMMUTABLE)&#10;        val notif = NotificationCompat.Builder(context, channelId)&#10;            .setContentTitle(&quot;Label expired: $endoscope&quot;)&#10;            .setContentText(&quot;A label has reached its 7-day countdown&quot;)&#10;            .setSmallIcon(R.drawable.ic_launcher_foreground)&#10;            .setContentIntent(pi)&#10;            .setAutoCancel(true)&#10;            .build()&#10;        nm.notify(labelId.toInt(), notif)&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.plasmatrack&#10;&#10;import android.annotation.SuppressLint&#10;import android.content.BroadcastReceiver&#10;import android.content.Context&#10;import android.content.Intent&#10;import android.app.NotificationChannel&#10;import android.app.NotificationManager&#10;import android.app.PendingIntent&#10;import android.os.Build&#10;import androidx.core.app.NotificationCompat&#10;&#10;@SuppressLint(&quot;MissingPermission&quot;) // la permission POST_NOTIFICATIONS doit être demandée par l'application si nécessaire&#10;class LabelAlarmReceiver : BroadcastReceiver() {&#10;    override fun onReceive(context: Context, intent: Intent) {&#10;        val labelId = intent.getLongExtra(&quot;labelId&quot;, -1L)&#10;        val endoscope = intent.getStringExtra(&quot;endoscope&quot;) ?: &quot;Label&quot;&#10;        val nm = context.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager&#10;        val channelId = &quot;labels_channel&quot;&#10;        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {&#10;            val ch = NotificationChannel(channelId, &quot;Label alarms&quot;, NotificationManager.IMPORTANCE_HIGH)&#10;            nm.createNotificationChannel(ch)&#10;        }&#10;        val pi = PendingIntent.getActivity(context, 0, Intent(context, ParametersActivity::class.java), PendingIntent.FLAG_IMMUTABLE)&#10;        val notif = NotificationCompat.Builder(context, channelId)&#10;            .setContentTitle(&quot;Label expired: $endoscope&quot;)&#10;            .setContentText(&quot;A label has reached its 7-day countdown&quot;)&#10;            .setSmallIcon(R.drawable.ic_launcher_foreground)&#10;            .setContentIntent(pi)&#10;            .setAutoCancel(true)&#10;            .build()&#10;        nm.notify(labelId.toInt(), notif)&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/drawable/ic_lock.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/drawable/ic_lock.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:width=&quot;24dp&quot;&#10;    android:height=&quot;24dp&quot;&#10;    android:viewportWidth=&quot;24&quot;&#10;    android:viewportHeight=&quot;24&quot;&gt;&#10;    &lt;path android:fillColor=&quot;#FFFFFFFF&quot; android:pathData=&quot;M12,17a2,2 0 0,0 2-2v-2a2,2 0 0,0-4,0v2a2,2 0 0,0 2,2zM17,8h-1V6a4,4 0 0,0-8,0v2H7c-1.1,0-2,0.9-2,2v8c0,1.1 0.9,2 2,2h10c1.1,0 2-0.9 2-2v-8c0-1.1-0.9-2-2-2z&quot;/&gt;&#10;&lt;/vector&gt;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:width=&quot;24dp&quot;&#10;    android:height=&quot;24dp&quot;&#10;    android:viewportWidth=&quot;24&quot;&#10;    android:viewportHeight=&quot;24&quot;&gt;&#10;    &lt;path android:fillColor=&quot;#FFFFFFFF&quot; android:pathData=&quot;M12,17a2,2 0 0,0 2-2v-2a2,2 0 0,0-4,0v2a2,2 0 0,0 2,2zM17,8h-1V6a4,4 0 0,0-8,0v2H7c-1.1,0-2,0.9-2,2v8c0,1.1 0.9,2 2,2h10c1.1,0 2-0.9 2-2v-8c0-1.1-0.9-2-2-2z&quot;/&gt;&#10;&lt;/vector&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/drawable/ic_settings.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/drawable/ic_settings.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:width=&quot;24dp&quot;&#10;    android:height=&quot;24dp&quot;&#10;    android:viewportWidth=&quot;24&quot;&#10;    android:viewportHeight=&quot;24&quot;&gt;&#10;    &lt;path&#10;        android:fillColor=&quot;#FFFFFFFF&quot;&#10;        android:pathData=&quot;M19.14,12.94c0.04-0.31 0.06-0.63 0.06-0.94s-0.02-0.63-0.06-0.94l2.03-1.58c0.18-0.14 0.23-0.41 0.12-0.61l-1.92-3.32c-0.11-0.19-0.35-0.27-0.55-0.2l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.5,2.5c-0.03-0.22-0.22-0.38-0.45-0.38h-3.9c-0.23,0-0.42,0.16-0.45,0.38L9.39,4.22c-0.59,0.24-1.12,0.56-1.62,0.94L5.38,4.2c-0.2-0.08-0.44,0.01-0.55,0.2L2.91,7.72c-0.11,0.2-0.06,0.47 0.12,0.61l2.03,1.58c-0.04,0.31-0.06,0.63-0.06,0.94s0.02,0.63 0.06,0.94L3.03,14.45c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.11,0.19 0.35,0.27 0.55,0.2l2.39-0.96c0.5,0.38 1.03,0.7 1.62,0.94l0.21,1.72c0.03,0.22 0.22,0.38 0.45,0.38h3.9c0.23,0 0.42-0.16 0.45-0.38l0.21-1.72c0.59-0.24 1.12-0.56 1.62-0.94l2.39,0.96c0.2,0.08 0.44-0.01 0.55-0.2l1.92-3.32c0.11-0.2 0.06-0.47-0.12-0.61l-2.03-1.58zM12,15.5c-1.94,0-3.5-1.56-3.5-3.5s1.56-3.5 3.5-3.5 3.5,1.56 3.5,3.5-1.56,3.5-3.5,3.5z&quot;/&gt;&#10;&lt;/vector&gt;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:width=&quot;24dp&quot;&#10;    android:height=&quot;24dp&quot;&#10;    android:viewportWidth=&quot;24&quot;&#10;    android:viewportHeight=&quot;24&quot;&gt;&#10;    &lt;path&#10;        android:fillColor=&quot;#FFFFFFFF&quot;&#10;        android:pathData=&quot;M19.14,12.94c0.04-0.31 0.06-0.63 0.06-0.94s-0.02-0.63-0.06-0.94l2.03-1.58c0.18-0.14 0.23-0.41 0.12-0.61l-1.92-3.32c-0.11-0.19-0.35-0.27-0.55-0.2l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.5,2.5c-0.03-0.22-0.22-0.38-0.45-0.38h-3.9c-0.23,0-0.42,0.16-0.45,0.38L9.39,4.22c-0.59,0.24-1.12,0.56-1.62,0.94L5.38,4.2c-0.2-0.08-0.44,0.01-0.55,0.2L2.91,7.72c-0.11,0.2-0.06,0.47 0.12,0.61l2.03,1.58c-0.04,0.31-0.06,0.63-0.06,0.94s0.02,0.63 0.06,0.94L3.03,14.45c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.11,0.19 0.35,0.27 0.55,0.2l2.39-0.96c0.5,0.38 1.03,0.7 1.62,0.94l0.21,1.72c0.03,0.22 0.22,0.38 0.45,0.38h3.9c0.23,0 0.42-0.16 0.45-0.38l0.21-1.72c0.59-0.24 1.12-0.56 1.62-0.94l2.39,0.96c0.2,0.08 0.44-0.01 0.55-0.2l1.92-3.32c0.11-0.2 0.06-0.47-0.12-0.61l-2.03-1.58zM12,15.5c-1.94,0-3.5-1.56-3.5-3.5s1.56-3.5 3.5-3.5 3.5,1.56 3.5,3.5-1.56,3.5-3.5,3.5z&quot;/&gt;&#10;&lt;/vector&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>